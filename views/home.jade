extends layout

block content
    if !user
        #welcome-block.col-md-12
            img(src="img/octostar-title.png", alt="Octostar")
            h2 An open-source Github Star Organizer
            .row.clearfix.icons
                .col-md-4
                    h1 
                        i.fa.fa-sitemap
                    h3 Organize
                .col-md-4
                    h1
                        i.fa.fa-sort-alpha-asc
                    h3 Sort
                .col-md-4
                    h1
                        i.fa.fa-tags
                    h3 Tag
            .row.clearfix.welcometext
                .col-md-6
                    h4 Welcome to the public beta of Octostar.io!
                    p
                        | Octostar is a pet project of Trent Oswald, and was born out of necessity. 
                        | Upon realizing his star list was well into the multiple hundreds, Trent
                        | realized he needed a more effecient way of organizing his bookmarks. 
                    p
                        | Octostar is still in pre-release beta, so features may come and go,
                        | and you may experience odd bugs during usage. If you come across one,
                        | please make sure to log a Github issue for it.
                    p
                        | This is a work done in my spare time. If you would like to contribute,
                        | feel free to read the contributing guide on Github. If you don't code
                        | and still want to help, please consider donating.
    else
        #sidebar.col-md-3
            em#last-synced(v-show="lastSynced == 'never'") Retrieving Stars...
            em#last-synced(v-show="lastSynced !== 'never'") Last synced {{lastSynced}}
            button#sync-account.btn.btn.btn-primary.btn-sm(v-on='click:forceSync',v-show="lastSynced !== 'never'")
                | &nbsp;
                i.fa.fa-refresh
            hr.activehr
            h4 Sort By:
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:sortby("original-order")') Date Starred
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:sortby("name")') Name
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:sortby("owner")') owner
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:sortby("language")') language
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:sortby("created")') created
            select.selectpicker.sort
                option.sort(data-icon="fa-star",value='original-order') Date Starred
                option.sort(data-icon="fa-font",value='name') Repo Name
                option.sort(data-icon="fa-user",value='owner') Repo Owner
                option.sort(data-icon="fa-code",value='language') Language
                option.sort(data-icon="fa-calendar",value='created') Date Created
            hr.activehr
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:filterby("*")') None
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:filterby("javascript")') Javascript
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:filterby("css")') css
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:filterby("coffeescript")') coffeescript
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:filterby("c")') c
            //- button.btn.btn.btn-primary.btn-sm(v-on='click:filterby("unknown")') unknown
            
            select.selectpicker.filter(multiple='',data-selected-text-format="values",title="<i class='fa fa-filter'></i> Filters")
                optgroup(label="Languages")
                    option.filter(v-repeat='lang: languages',value=".{{lang | langfilter}}") {{lang}}
                optgroup(label="Tags")
            span edit tags

        #main-content.col-md-9.clearfix
            .bs-callout.col-md-4.repo(v-repeat="repos.remote" v-effect="isotopereinit" data-language='{{language | langfilter}}' data-name='{{name}}' data-owner='{{owner.login}}' data-created='{{created_at}}' data-tag='{{tags | list}}' class='{{language | langfilter}} repo-{{$index}}')
                
                h5.title(title="{{name}}") {{name | titlebrief}} 
                    br
                    a.small(href="{{clone_url}}",target="_blank")
                        | Github  
                        i.small.fa.fa-external-link
                span.language(class="{{language | lowercase}}") {{language || 'Unknown'}} 
                span.owner {{owner.login}}
                span.date-created created {{created_at | timeago}} 
                p.description {{description | brief}}
                .tags
                    span.tag(v-repeat="tag: tags"){{tag}}
                    span.tag Lorem Ipsum
                    span.tag.add(v-on="click:addTag(name, created_at)",data-toggle="modal",data-target="#myModal")
                        i.fa.fa-pencil
        #myModal.modal.fade(tabindex="-1",role="dialog",aria-labelledby="myModalLabel",aria-hidden="true")
                  .modal-dialog
                    .modal-content
                      .modal-header
                        button.close(type="button",data-dismiss="modal",aria-hidden="true") &times;
                        h4#myModalLabel.modal-title Modal title
                      .modal-body
                        | Lorem Ipsum
                      .modal-footer
                        button.btn.btn-default(type="button",data-dismiss="modal") Close
                        button.btn.btn-primary(type="button") Save changes
