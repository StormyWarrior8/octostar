extends layout

block content
	if !user
		#login-block.col-md-6
			h1 Octostar
			h2 An open-source Github Star Organizer
			p
				| Feel free to look around. Sign in using your github account. Once logged in, you can tag, sort, and otherwise organize your github starred repos.
			form(method='POST')
				legend Sign In
				input(type='hidden', name='_csrf', value=token)
				.col-sm-8.col-sm-offset-2
					if secrets.githubAuth
						a.btn.btn-block.btn-github.btn-social(href='/auth/github')
							i.fa.fa-github
							| Sign in with GitHub
	else
		#sidebar.col-md-3
			input#active-sync-dummy.toggle(type='checkbox',checked)
			input#active-sync(type='checkbox',v-model='async')
			label#active-sync-label(for='active-sync',v-class='disabled:!async') Active-Sync
			hr.activehr
			em#last-synced Last synced 5 mins ago
			button#sync-account.btn.btn.btn-primary.btn-sm(v-class='disabled:!async',v-on='click:initSync')
				| &nbsp;
				i.fa.fa-refresh
			hr.activehr

		#main-content.col-md-9.clearfix
			.bs-callout.col-md-4.repo(v-repeat="repos.remote" v-effect="isotopereinit" data-language='{{language | lowercase || "unknown"}}' data-name='{{name}}' data-owner='{{owner.login}}' data-created='{{created_at}}' data-tag='{{tags | list}}' class="{{language | lowercase}} repo-{{$index}}")
				h4.title {{name}}
				span.language(class="{{language | lowercase}}") {{language || 'Unknown'}} 
				span.owner {{owner.login}}
				span.date-created {{created_at}} 
				p.description {{description | brief}}
				.tags
					span.tag(v-repeat="tag: tags"){{tag}}
					span.tag Test
					span.tag another test
					span.tag effing super long
					span.tag a
					span.tag another test
					span.tag another test